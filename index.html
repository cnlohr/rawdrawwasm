 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Test</title>
		<style>
			body { background-color: #000080; }
			document : {overflow: hidden; width=100%; height=100%;}
		</style>
	</head>
	<body>
		<div STYLE="position:absolute;width:640;z-index:10;color:white;a:red">
			This is a demonstration of rawdrawwasm, a minimal technique to use C with rawdraw with WASM and without Emscripten.
			This file is a single-file HTML file. Thanks to @zNoctum and @redline2466.  Check out the project <A HREF=https://github.com/cnlohr/rawdrawwasm/ style="color:red">here</a>.
		</div>
		<div STYLE="positon:absolute;z-index:3">
			<canvas width=500 height=500 id=canvas></canvas>
		</div>
		<script>
var memory=new WebAssembly.Memory({initial:200});var HEAP8=new Int8Array(memory.buffer);var HEAPU8=new Uint8Array(memory.buffer);var HEAP16=new Int16Array(memory.buffer);var HEAPU16=new Uint16Array(memory.buffer);var HEAP32=new Uint32Array(memory.buffer);var HEAPU32=new Uint32Array(memory.buffer);var HEAPF32=new Float32Array(memory.buffer);var HEAPF64=new Float64Array(memory.buffer);let blob=atob("AGFzbQEAAAABQAtgAX8AYAJ/fwBgA39/fwBgAABgBH9/f38AYAF8AXxgBH99fX0AYAh9fX19fX19 fQBgAAF/YAN9fX0BfWAAAXwC2AELA2VudhBGYXN0UGlwZUdlb21ldHJ5AAIDZW52FkNORkdDbGVh ckZyYW1lSW50ZXJuYWwAAANlbnYXQ05GR1N3YXBCdWZmZXJzSW50ZXJuYWwAAwNlbnYRT0dHZXRB YnNvbHV0ZVRpbWUACgNlbnYTQ05GR1NldHVwRnVsbHNjcmVlbgABA2VudgZwcmludHMAAANlbnYR Q05GR0dldERpbWVuc2lvbnMAAQNlbnYFcHJpbnQAAANlbnYDY29zAAUDZW52A3NpbgAFA2VudgZt ZW1vcnkCAA0DEA8EAQIICQMGAgEEBwIAAwAGEgN/AUGwwDELfwFBAAt/AUEACweQAQgJSGFuZGxl S2V5AAsMSGFuZGxlQnV0dG9uAAoMSGFuZGxlTW90aW9uAAwEbWFpbgANFWFzeW5jaWZ5X3N0YXJ0 X3Vud2luZAAWFGFzeW5jaWZ5X3N0b3BfdW53aW5kABcVYXN5bmNpZnlfc3RhcnRfcmV3aW5kABgU YXN5bmNpZnlfc3RvcF9yZXdpbmQAFwqfMw8DAAELAwABCxMAQdQXIAE2AgBBkKAtIAA2AgALsiID D38JfQZ8IwFBAkYEQCMCIwIoAgBBgH9qNgIAIwIoAgAiASgCACEAIAEqAgQhDyABKAIIIQIgASgC DCEDIAEoAhAhBSABKAIUIQQgASoCGCEQIAEqAhwhESABKAIgIQYgASgCJCEHIAEqAighEiABKgI0 IRMgASgCOCEJIAEoAjwhCiABKAJAIQsgASoCRCEUIAErAkghGSABKgJQIRUgASgCVCEMIAErAlgh HCABKwJgIRsgASoCaCEWIAEqAmwhFyABKAJwIQ0gASgCdCEOIAErAnghHSABKwIsIRgLAn8jAUEC RgRAIwIjAigCAEF8ajYCACMCKAIAKAIAIQgLIwFFBEAjACIAQfAAayICJAALIAhFQQEjARsEQBAD QQAjAUEBRg0BGiEbCyMBRQRAQeAXQQE6AAALIAhBAUZBASMBGwRAQYAIQQAQBEEBIwFBAUYNARoL IwFFBEADQCAKQZADRyIABEAgCrIhE0EAIQYDQCAGQZADRwRAIAayIRJBACEHQwAAAAAhD0EEIQQD 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 oCdqIAY4AgAgCEG0oCdqIAM4AgAgCEGwoCdqIAI4AgAgCEGsoCdqIAU4AgAgCEGooCdqIAQ4AgAg CEGkoCdqIAU4AgAgCEGgoCdqIAQ4AgAgCEGcoCdqIAM4AgAgCEGYoCdqIAI4AgAgCEGUoCdqIAE4 AgAgCEGQoCdqIAA4AgAgCkECdCIJQaSgK2pB9J8nKAIAIgg2AgAgCUGgoCtqIAg2AgAgCUGcoCtq IAg2AgAgCUGYoCtqIAg2AgAgCUGUoCtqIAg2AgAgCUGQoCtqIAg2AgBBhKAnIApBBmo2AgALDwsh CCMCKAIAIAg2AgAjAiMCKAIAQQRqNgIAIwIoAgAiCCAAOAIAIAggATgCBCAIIAI4AgggCCADOAIM IAggBDgCECAIIAU4AhQgCCAGOAIYIAggBzgCHCAIIAs2AiAgCCAKNgIkIAggCTYCKCMCIwIoAgBB LGo2AgAL6AEBEH0gASoCPCEHIAEqAjghCCABKgIwIQkgASoCNCEKIAEqAgwhCyABKgIIIQwgASoC ACENIAEqAgQhDiABKgIcIQ8gASoCGCEQIAEqAhAhESABKgIUIRIgAiAAKgIAIgMgASoCIJQgACoC BCIEIAEqAiSUkiAAKgIIIgUgASoCKJSSIAAqAgwiBiABKgIslJI4AgggAiADIBGUIAQgEpSSIAUg EJSSIAYgD5SSOAIEIAIgAyANlCAEIA6UkiAFIAyUkiAGIAuUkjgCACACIAMgCZQgBCAKlJIgBSAI lJIgBiAHlJI4AgwLGQBBASQBIAAkAiMCKAIAIwIoAgRLBEAACwsVAEEAJAEjAigCACMCKAIESwRA AAsLGQBBAiQBIAAkAiMCKAIAIwIoAgRLBEAACwsL3A8DAEGACAtDVGVzdCBCZW5jaABNYWluIHN0 YXJ0ZWQuICBUaGlzIHdpbGwgYXBwZWFyIGluIHlvdXIgYnJvd3NlciBjb25zb2xlLgBB0AgL/Q7/ /wAACAAQABgAHwApADIAMwD/////OQBCAP//SwBTAFwAYABkAGwAcgB7AIQAiQCTAJgAngCjAKkA rACyALYA//+6AL0AwQDJANEA2QDiAOQA6ADsAPQA+AD6APwA/QD/AAUBCgEQARYBGwEhAScBLAE1 ATwBPgFBAUQBSAFLAVEBWQFgAWoBcAF3AX4BhAGMAZIBmAGdAaYBqQGuAbMBugHBAcoB0gHYAdwB 4AHlAewB9AH7AQACBAIGAgoCDQIPAhECGAIdAiICJwItAjQCPAJCAkUCSgJRAlMCXAJiAmcCbQJz AngCfgKCAogCjQKUApgCngKiAqgCrAKyArYC//////////////////////////////////////// /////////////////////////////////////////////7wCvwLHAs4C2wLkAugC8gL0AvgC/gIE AwcDCQMRAxMDGAMeAyMDKwMtAzQDOwM8Az8DQQNGA0wDVQNeA2oDcAN5A4IDjAOXA6ADqwO3A8AD yQPSA9wD5QPtA/UD/gMGBA8EFwQeBCUELgQ3BD4EQgRLBFEEVwReBGQEbQR0BH4EhwSQBJoEpQSu BLkExgTPBNcE3wToBPAE9AT4BP0EAQUKBRQFGwUiBSoFMwU6BT4FRQVNBVUFXgVmBW4FdQX//wAJ ICkDIxSLAAkgKQQkE4wBISMUAwkRmhEiIxQDApkBISMJAykDCRKcAysTHCMiEQKLmhoBISMDiQMh KiEZAxQjmgEQIRIJEhwDqwIDGwIaExCpASsDKQIRIhOKACIEiCACJKgBECkQFAsUqwALDCArrAAo AAIqEBwgrAEhIwMJIBAUjAMjJASLARApEBQLFCsErAEYIRCcAxwjHBCcAiIZIpsCKgIZApsBAqoC IhECE6oRIgKZAhMiihAbnBAJIJkQHCAsASkDqyEQASMUCxCcAAkjLAQDIaghEAESAxQrAqwQmRAB A5wQISOcASsRGyELAqoCKhGbBJsCqpwDqQAgJAQImgEQHASsARAhIgSsACAkDBKqAAIqIKwgAAIi JIwgAiIkBIoAICESnAAMACAsBCwCqgACIiAIIowZmxkTjCACrAEpA6sAIowBECESG5whAQQkIhIT qwQBECEsAqoABBQjEgoSIRCIIxQDARCpABAhIxQEiAAELAAoApoADAAoApohEAEDFCMimgAMICwC qgAoEBwErAAgIxSLAAwCEiEoEiOsAASsBAARIKwEACogrAEQISMUA4kADAAQIRKKARAhIxQDCQSb AAwAECESAqwhEAEjFIsAKBCcAAQkqAADFCOoAAQsFBskqAABIywEAyGoAAESHBIhqAAgAgSsEAAE nAGrECAknAEQqQSsAJkCBCQqIxKKAAQkIookBAMSqiAkBAKqJAQCIiObBAkCGgEQqSMSAxQjJBWM AAwDEiOsGRKcKiMkFYwADAMTKhOsEJwCDAIbEhwSI6wCDAMSI6wCIiQEigINBCQiigIELCUiigIM AxKqIgIDIySMERwCqgIEFCskqgIDFCOqAgMUGhMkqgIsBKoCAxwiI40CIgSsIBAULBKKEBkTnAAQ FAwSqgEQEagDBCQjEosYEZwhEAECEyoQmxEABCQrApoBChEpIisDGwIRIhOKABEoERwCKgOrEBoT nSAAAhEqAhMiJIwIqCAQEakQKSAhEZgRAhshEqsBIaoSqhAgIRkSGBGqAKgBECESiQIqERsDqwEQ IQOrARAhEgoSI4sRqAINBBQrIqwUEAEaECCsmhQVjSCpECAhEZgBEgsRIpsACQIoEhMrIqwACQIo EiITFKwAEBEJEQIoEhMrIqwYERIDFKsEAhEiLAMrEKkEAhEiLAMrAZgEAhEiLAMrARCpBAIRIiwD KwEQEagEAhEiLAMrCKgEAhEiLAMrACARiAAMAioAGRAcECgUrCMUAwEQKRQVjQIqAgQsAxsAmQIq AgQsAxsRqAIqAgQsAxsBEKkCKgIELAMbCKgCKhIcBCwAmQIqEhwELBGoAioSHAQsARCpAioSHAQs KIgAECEjFAQIApoEAiQqARARqAIiJAQKAJkCIiQEChGoAiIkBAoRKACZAiIkBAoBEBGoASEkBAkI qAErA6kBECEjFAMJA6kBBCQpEagBBCQpAJkCBCQqARCpAQQkKQioAQITHBMiKRGoAAwBESITiwAN ABAhGgIiJIwCBCQqIxIKAJkCBCQqIxIKEagCBCQqIxIKARCpAgQkKiMSCgEQEagCBCQqIxIKCakC BCQqIxIKARAhiQIbAgQsEhwSKhMrIqsDBCwDEioUFY0kBAIiIxsAmSQEAiIjGxGoJAQCIiMbARCp JAQCIiMbCakSHACZEhwRqBIcARCpEhwJqQAqESgCIiQEigIMAxIjLAEQEagCBCQiCgCZAgQkIgoR qAIEJCIKARCpAgQkIgoBEBGoAgQkIgoJqRkCKpsCBCQiCgSqAgQUKyQqAJkCBBQrJCoRqAIEFCsk KgEQqQIEFCskKgmpAgMcIiMNEagADAIRIhOKAgMcIiMNCakAQdMXCwg/ZAAAADBQCwAvCXByb2R1 Y2VycwEMcHJvY2Vzc2VkLWJ5AQVjbGFuZw8xMC4wLjAtNHVidW50dTE=");let toUtf8Decoder=new TextDecoder("utf-8");function toUTF8(ptr){var len=0|0;ptr|=0;for(var i=ptr;HEAPU8[i]!=0;i++)len++;return toUtf8Decoder.decode(HEAPU8.subarray(ptr,ptr+len))}let wasmExports;const DATA_ADDR=16;let sleeping=false;let fullscreen=false;var canvas=document.getElementById("canvas");var wgl=canvas.getContext("webgl");var wgl_rdcolor=new Uint8Array(4);var wgl_shader=null;var wgl_blit=null;var wgl_tex=null;function wgl_makeShader(vertText,fragText){var vert=wgl.createShader(wgl.VERTEX_SHADER);wgl.shaderSource(vert,vertText);wgl.compileShader(vert);if(!wgl.getShaderParameter(vert,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(vert))}var frag=wgl.createShader(wgl.FRAGMENT_SHADER);wgl.shaderSource(frag,fragText);wgl.compileShader(frag);if(!wgl.getShaderParameter(frag,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(frag))}var ret=wgl.createProgram();wgl.attachShader(ret,frag);wgl.attachShader(ret,vert);wgl.linkProgram(ret);wgl.bindAttribLocation(ret,0,"a0");wgl.bindAttribLocation(ret,1,"a1");return ret}{wgl_shader=wgl_makeShader("uniform vec2 sw, sa; attribute vec2 a0; attribute vec4 a1; varying vec4 vc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); vc = a1; }","precision mediump float; varying vec4 vc; void main() { gl_FragColor = vec4(vc.xyz,1.0); }");swloc=wgl.getUniformLocation(wgl_shader,"sw");saloc=wgl.getUniformLocation(wgl_shader,"sa");wgl_blit=wgl_makeShader("uniform vec2 sw, sa;attribute vec2 a0; attribute vec4 a1; varying vec2 tc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); tc = a1.xy; }","precision mediump float; varying vec2 tc; uniform sampler2D tex; void main() { gl_FragColor = texture2D(tex,tc);}");swlocBlit=wgl.getUniformLocation(wgl_blit,"sw");salocBlit=wgl.getUniformLocation(wgl_blit,"sa");wgl.useProgram(wgl_shader);var arraybufferV=wgl.createBuffer();var arraybufferC=wgl.createBuffer();wgl.enableVertexAttribArray(0);wgl.enableVertexAttribArray(1)}function FrameStart(){if(fullscreen){wgl.viewportWidth=canvas.width=window.innerWidth;wgl.viewportHeight=canvas.height=window.innerHeight}wgl.viewport(0,0,wgl.viewportWidth,wgl.viewportHeight);wgl.uniform2f(swloc,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(saloc,.5+.5/wgl.viewportWidth,-.5-.5/wgl.viewportHeight)}function FastPipeGeometryJS(vertsF,colorsI,vertcount){wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferV);wgl.bufferData(wgl.ARRAY_BUFFER,vertsF,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(0,2,wgl.FLOAT,false,0,0);wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferC);wgl.bufferData(wgl.ARRAY_BUFFER,colorsI,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(1,4,wgl.UNSIGNED_BYTE,true,0,0);wgl.drawArrays(wgl.TRIANGLES,0,vertcount)}const imports={env:{FastPipeGeometry:(vertsF,colorsI,vertcount)=>{FastPipeGeometryJS(HEAPF32.slice(vertsF>>2,(vertsF>>2)+vertcount*2),HEAPU8.slice(colorsI,colorsI+vertcount*4),vertcount)},CNFGSetup:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();fullscreen=false},CNFGSetupFullscreen:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();canvas.style="position:absolute; top:0; left:0;";fullscreen=true},CNFGClearFrameInternal:color=>{wgl.clearColor((color&255)/255,(color>>8&255)/255,(color>>16&255)/255,(color>>24&255)/255);wgl.clear(wgl.COLOR_BUFFER_BIT|wgl.COLOR_DEPTH_BIT)},CNFGGetDimensions:(pw,ph)=>{HEAP16[pw>>1]=canvas.width;HEAP16[ph>>1]=canvas.height},CNFGHandleInput:()=>{},CNFGUpdateScreenWithBitmapInternal:(memptr,w,h)=>{if(w<=0||h<=0)return;wgl.useProgram(wgl_blit);if(wgl_tex==null)wgl_tex=wgl.createTexture();wgl.activeTexture(wgl.TEXTURE0);wgl.bindTexture(wgl.TEXTURE_2D,wgl_tex);wgl.uniform2f(swlocBlit,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(salocBlit,.5,-.5);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_S,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_T,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_MIN_FILTER,wgl.NEAREST);var img=new Image;wgl.texImage2D(wgl.TEXTURE_2D,0,wgl.RGBA,w,h,0,wgl.RGBA,wgl.UNSIGNED_BYTE,new Uint8Array(memory.buffer,memptr,w*h*4));FastPipeGeometryJS(new Float32Array([0,0,w,0,w,h,0,0,w,h,0,h]),new Uint8Array([0,0,0,0,255,0,0,0,255,255,0,0,0,0,0,0,255,255,0,0,0,255,0,0]),6);wgl.useProgram(wgl_shader)},CNFGSwapBuffersInternal:()=>{if(!sleeping){HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;requestAnimationFrame(function(){FrameStart();wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()})}else{wasmExports.asyncify_stop_rewind();sleeping=false}},OGGetAbsoluteTime:()=>{return(new Date).getTime()/1e3},Add1:i=>{return i+1},sin:Math.sin,cos:Math.cos,tan:Math.tan,sinf:Math.sin,cosf:Math.cos,tanf:Math.tan,OGUSleep:us=>{if(!sleeping){HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;setTimeout(function(){wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()},us/1e3)}else{wasmExports.asyncify_stop_rewind();sleeping=false}},memory:memory,print:console.log,prints:str=>{console.log(toUTF8(str))}}};{var array=new Uint8Array(new ArrayBuffer(blob.length));var i=0|0;for(i=0;i<blob.length;i++){array[i]=blob.charCodeAt(i)}WebAssembly.instantiate(array,imports).then(function(wa){instance=wa.instance;wasmExports=instance.exports;if(instance.exports.HandleMotion){canvas.addEventListener("mousemove",e=>{instance.exports.HandleMotion(e.offsetX,e.offsetY,e.buttons)});canvas.addEventListener("touchmove",e=>{instance.exports.HandleMotion(e.touches[0].clientX,e.touches[0].clientY,1)})}if(instance.exports.HandleButton){canvas.addEventListener("mouseup",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,0)});canvas.addEventListener("mousedown",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,1)})}instance.exports.main()});wgl.clearColor(1,0,0,1);wgl.clear(wgl.COLOR_BUFFER_BIT|wgl.COLOR_DEPTH_BIT)}
		</script>
	</body>
</html>
