 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Test</title>
		<style>
			body { background-color: #000080; }
			document : {overflow: hidden; width=100%; height=100%;}
		</style>
	</head>
	<body>
		<div STYLE="position:absolute;width:640;z-index:10;color:white;a:red">
			This is a demonstration of rawdrawwasm, a minimal technique to use C with rawdraw with WASM and without Emscripten.
			This file is a single-file HTML file. Thanks to @zNoctum and @redline2644.  Check out the project <A HREF=https://github.com/cnlohr/rawdrawwasm/ style="color:red">here</a>.
		</div>
		<div STYLE="positon:absolute;z-index:3">
			<canvas width=500 height=500 id=canvas></canvas>
		</div>
		<script>
var memory=new WebAssembly.Memory({initial:200});var HEAP8=new Int8Array(memory.buffer);var HEAPU8=new Uint8Array(memory.buffer);var HEAP16=new Int16Array(memory.buffer);var HEAPU16=new Uint16Array(memory.buffer);var HEAP32=new Uint32Array(memory.buffer);var HEAPU32=new Uint32Array(memory.buffer);var HEAPF32=new Float32Array(memory.buffer);var HEAPF64=new Float64Array(memory.buffer);let blob=atob("AGFzbQEAAAABOgtgAX8AYAJ/fwBgAABgA39/fwBgBH9/f38AYAF8AXxgBH99fX0AYAABf2ABfwF/ YAN9fX0BfWAAAXwC0wIRA2VudhZDTkZHQ2xlYXJGcmFtZUludGVybmFsAAADZW52F0NORkdTd2Fw QnVmZmVyc0ludGVybmFsAAIDZW52DUNORkdUYWNrUGl4ZWwAAQNlbnYPQ05GR1RhY2tTZWdtZW50 AAQDZW52EU9HR2V0QWJzb2x1dGVUaW1lAAoDZW52E0NORkdTZXR1cEZ1bGxzY3JlZW4AAQNlbnYG cHJpbnRzAAADZW52D0NORkdIYW5kbGVJbnB1dAACA2VudhBDTkZHU2V0TGluZVdpZHRoAAADZW52 CUNORkdDb2xvcgAIA2VudhFDTkZHR2V0RGltZW5zaW9ucwABA2VudhFDTkZHVGFja1JlY3Rhbmds ZQAEA2VudgxDTkZHVGFja1BvbHkAAQNlbnYFcHJpbnQAAANlbnYDY29zAAUDZW52A3NpbgAFA2Vu dgZtZW1vcnkCAAIDDQwEAQMHCQYDAQMAAgAGEgN/AUGg6gQLfwFBAAt/AUEACweQAQgJSGFuZGxl S2V5ABEMSGFuZGxlQnV0dG9uABAMSGFuZGxlTW90aW9uABIEbWFpbgATFWFzeW5jaWZ5X3N0YXJ0 X3Vud2luZAAZFGFzeW5jaWZ5X3N0b3BfdW53aW5kABoVYXN5bmNpZnlfc3RhcnRfcmV3aW5kABsU YXN5bmNpZnlfc3RvcF9yZXdpbmQAGgqVKAwDAAELAwABCxMAQdAXIAE2AgBBgMoAIAA2AgALjSED D38LfQZ8IwFBAkYEQCMCIwIoAgBBgH9qNgIAIwIoAgAiACgCACEBIAAoAgQhAiAAKgIIIQ8gACgC DCEDIAAoAhAhBCAAKgIUIREgACgCGCEGIAAoAiQhByAAKAIoIQggACoCLCEUIAAqAjAhFyAAKAI0 IQkgACgCOCEKIAAqAjwhFiAAKgJAIRUgACsCRCEcIAAoAkwhCyAAKgJQIRMgACgCVCEMIAArAlgh HSAAKwJgIR4gACoCaCEYIAAqAmwhGSAAKwJwIR8gACgCeCENIAAoAnwhDiAAKwIcIRoLAn8jAUEC RgRAIwIjAigCAEF8ajYCACMCKAIAKAIAIQULIwFFBEAjAEHwAGsiAiQACyAFRUEBIwEbBEAQBEEA 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 CCEMIAEqAgAhDSABKgIEIQ4gASoCHCEPIAEqAhghECABKgIQIREgASoCFCESIAIgACoCACIDIAEq AiCUIAAqAgQiBCABKgIklJIgACoCCCIFIAEqAiiUkiAAKgIMIgYgASoCLJSSOAIIIAIgAyARlCAE IBKUkiAFIBCUkiAGIA+UkjgCBCACIAMgDZQgBCAOlJIgBSAMlJIgBiALlJI4AgAgAiADIAmUIAQg CpSSIAUgCJSSIAYgB5SSOAIMCxkAQQEkASAAJAIjAigCACMCKAIESwRAAAsLFQBBACQBIwIoAgAj AigCBEsEQAALCxkAQQIkASAAJAIjAigCACMCKAIESwRAAAsLC9oPAwBBgAgLQ1Rlc3QgQmVuY2gA TWFpbiBzdGFydGVkLiAgVGhpcyB3aWxsIGFwcGVhciBpbiB5b3VyIGJyb3dzZXIgY29uc29sZS4A QdAIC/0O//8AAAgAEAAYAB8AKQAyADMA/////zkAQgD//0sAUwBcAGAAZABsAHIAewCEAIkAkwCY AJ4AowCpAKwAsgC2AP//ugC9AMEAyQDRANkA4gDkAOgA7AD0APgA+gD8AP0A/wAFAQoBEAEWARsB IQEnASwBNQE8AT4BQQFEAUgBSwFRAVkBYAFqAXABdwF+AYQBjAGSAZgBnQGmAakBrgGzAboBwQHK AdIB2AHcAeAB5QHsAfQB+wEAAgQCBgIKAg0CDwIRAhgCHQIiAicCLQI0AjwCQgJFAkoCUQJTAlwC YgJnAm0CcwJ4An4CggKIAo0ClAKYAp4CogKoAqwCsgK2Av////////////////////////////// //////////////////////////////////////////////////////+8Ar8CxwLOAtsC5ALoAvIC 9AL4Av4CBAMHAwkDEQMTAxgDHgMjAysDLQM0AzsDPAM/A0EDRgNMA1UDXgNqA3ADeQOCA4wDlwOg A6sDtwPAA8kD0gPcA+UD7QP1A/4DBgQPBBcEHgQlBC4ENwQ+BEIESwRRBFcEXgRkBG0EdAR+BIcE kASaBKUErgS5BMYEzwTXBN8E6ATwBPQE+AT9BAEFCgUUBRsFIgUqBTMFOgU+BUUFTQVVBV4FZgVu BXUF//8ACSApAyMUiwAJICkEJBOMASEjFAMJEZoRIiMUAwKZASEjCQMpAwkSnAMrExwjIhECi5oa ASEjA4kDISohGQMUI5oBECESCRIcA6sCAxsCGhMQqQErAykCESITigAiBIggAiSoARApEBQLFKsA CwwgK6wAKAACKhAcIKwBISMDCSAQFIwDIyQEiwEQKRAUCxQrBKwBGCEQnAMcIxwQnAIiGSKbAioC GQKbAQKqAiIRAhOqESICmQITIooQG5wQCSCZEBwgLAEpA6shEAEjFAsQnAAJIywEAyGoIRABEgMU KwKsEJkQAQOcECEjnAErERshCwKqAioRmwSbAqqcA6kAICQECJoBEBwErAEQISIErAAgJAwSqgAC KiCsIAACIiSMIAIiJASKACAhEpwADAAgLAQsAqoAAiIgCCKMGZsZE4wgAqwBKQOrACKMARAhEhuc IQEEJCISE6sEARAhLAKqAAQUIxIKEiEQiCMUAwEQqQAQISMUBIgABCwAKAKaAAwAKAKaIRABAxQj IpoADCAsAqoAKBAcBKwAICMUiwAMAhIhKBIjrAAErAQAESCsBAAqIKwBECEjFAOJAAwAECESigEQ ISMUAwkEmwAMABAhEgKsIRABIxSLACgQnAAEJKgAAxQjqAAELBQbJKgAASMsBAMhqAABEhwSIagA IAIErBAABJwBqxAgJJwBEKkErACZAgQkKiMSigAEJCKKJAQDEqogJAQCqiQEAiIjmwQJAhoBEKkj EgMUIyQVjAAMAxIjrBkSnCojJBWMAAwDEyoTrBCcAgwCGxIcEiOsAgwDEiOsAiIkBIoCDQQkIooC BCwlIooCDAMSqiICAyMkjBEcAqoCBBQrJKoCAxQjqgIDFBoTJKoCLASqAgMcIiONAiIErCAQFCwS ihAZE5wAEBQMEqoBEBGoAwQkIxKLGBGcIRABAhMqEJsRAAQkKwKaAQoRKSIrAxsCESITigARKBEc AioDqxAaE50gAAIRKgITIiSMCKggEBGpECkgIRGYEQIbIRKrASGqEqoQICEZEhgRqgCoARAhEokC KhEbA6sBECEDqwEQIRIKEiOLEagCDQQUKyKsFBABGhAgrJoUFY0gqRAgIRGYARILESKbAAkCKBIT KyKsAAkCKBIiExSsABARCRECKBITKyKsGBESAxSrBAIRIiwDKxCpBAIRIiwDKwGYBAIRIiwDKwEQ qQQCESIsAysBEBGoBAIRIiwDKwioBAIRIiwDKwAgEYgADAIqABkQHBAoFKwjFAMBECkUFY0CKgIE LAMbAJkCKgIELAMbEagCKgIELAMbARCpAioCBCwDGwioAioSHAQsAJkCKhIcBCwRqAIqEhwELAEQ qQIqEhwELCiIABAhIxQECAKaBAIkKgEQEagCIiQECgCZAiIkBAoRqAIiJAQKESgAmQIiJAQKARAR qAEhJAQJCKgBKwOpARAhIxQDCQOpAQQkKRGoAQQkKQCZAgQkKgEQqQEEJCkIqAECExwTIikRqAAM AREiE4sADQAQIRoCIiSMAgQkKiMSCgCZAgQkKiMSChGoAgQkKiMSCgEQqQIEJCojEgoBEBGoAgQk KiMSCgmpAgQkKiMSCgEQIYkCGwIELBIcEioTKyKrAwQsAxIqFBWNJAQCIiMbAJkkBAIiIxsRqCQE AiIjGwEQqSQEAiIjGwmpEhwAmRIcEagSHAEQqRIcCakAKhEoAiIkBIoCDAMSIywBEBGoAgQkIgoA mQIEJCIKEagCBCQiCgEQqQIEJCIKARARqAIEJCIKCakZAiqbAgQkIgoEqgIEFCskKgCZAgQUKyQq EagCBBQrJCoBEKkCBBQrJCoJqQIDHCIjDRGoAAwCESITigIDHCIjDQmpAEHQFwsGZAAAACAlAC8J cHJvZHVjZXJzAQxwcm9jZXNzZWQtYnkBBWNsYW5nDzEwLjAuMC00dWJ1bnR1MQ==");let toUtf8Decoder=new TextDecoder("utf-8");function toUTF8(ptr){var len=0|0;ptr|=0;for(var i=ptr;HEAPU8[i]!=0;i++)len++;return toUtf8Decoder.decode(HEAPU8.subarray(ptr,ptr+len))}let wasmExports;const DATA_ADDR=16;let sleeping=false;let fullscreen=false;var canvas=document.getElementById("canvas");var wgl=canvas.getContext("webgl");var wgl_rdcolor=new Uint8Array(4);var wgl_shader=null;var wgl_blit=null;var wgl_tex=null;function wgl_makeShader(vertText,fragText){var vert=wgl.createShader(wgl.VERTEX_SHADER);wgl.shaderSource(vert,vertText);wgl.compileShader(vert);if(!wgl.getShaderParameter(vert,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(vert))}var frag=wgl.createShader(wgl.FRAGMENT_SHADER);wgl.shaderSource(frag,fragText);wgl.compileShader(frag);if(!wgl.getShaderParameter(frag,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(frag))}var ret=wgl.createProgram();wgl.attachShader(ret,frag);wgl.attachShader(ret,vert);wgl.linkProgram(ret);wgl.bindAttribLocation(ret,0,"a0");wgl.bindAttribLocation(ret,1,"a1");return ret}{wgl_shader=wgl_makeShader("uniform vec2 sw, sa; attribute vec2 a0; attribute vec4 a1; varying vec4 vc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); vc = a1; }","precision mediump float; varying vec4 vc; void main() { gl_FragColor = vec4(vc.xyz,1.0); }");swloc=wgl.getUniformLocation(wgl_shader,"sw");saloc=wgl.getUniformLocation(wgl_shader,"sa");wgl_blit=wgl_makeShader("uniform vec2 sw, sa;attribute vec2 a0; attribute vec4 a1; varying vec2 tc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); tc = a1.xy; }","precision mediump float; varying vec2 tc; uniform sampler2D tex; void main() { gl_FragColor = texture2D(tex,tc);}");swlocBlit=wgl.getUniformLocation(wgl_blit,"sw");salocBlit=wgl.getUniformLocation(wgl_blit,"sa");wgl.useProgram(wgl_shader);var arraybufferV=wgl.createBuffer();var arraybufferC=wgl.createBuffer();wgl.enableVertexAttribArray(0);wgl.enableVertexAttribArray(1)}function FrameStart(){if(fullscreen){wgl.viewportWidth=canvas.width=window.innerWidth;wgl.viewportHeight=canvas.height=window.innerHeight}wgl.viewport(0,0,wgl.viewportWidth,wgl.viewportHeight);wgl.uniform2f(swloc,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(saloc,.5+.5/wgl.viewportWidth,-.5-.5/wgl.viewportHeight)}var wgl_dcount;var wgl_bdt;var wgl_bds=32768|0;var wgl_bdal=new Float32Array(wgl_bds*2);var wgl_bdap=new Int16Array(wgl_bds*2);var wgl_bdac=new Uint8Array(wgl_bds*4);var wgl_last_width=1;function WGLFBuffer(){wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferV);if(wgl_bdt==wgl.TRIANGLES){wgl.bufferData(wgl.ARRAY_BUFFER,wgl_bdap,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(0,2,wgl.SHORT,false,0,0)}else{wgl.bufferData(wgl.ARRAY_BUFFER,wgl_bdal,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(0,2,wgl.FLOAT,false,0,0)}wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferC);wgl.bufferData(wgl.ARRAY_BUFFER,wgl_bdac,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(1,4,wgl.UNSIGNED_BYTE,true,0,0);wgl.drawArrays(wgl_bdt,0,wgl_dcount);wgl_dcount=0}const imports={env:{CNFGTackSegment:(x1,y1,x2,y2)=>{if(wgl_bdt!=wgl.LINES||wgl_dcount>wgl_bds-4)WGLFBuffer();wgl_bdt=wgl.LINES;wgl_bdal.set([x1,y1,x2,y2],wgl_dcount*2);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+4);wgl_dcount+=2},CNFGTackPixel:(x1,y1)=>{if(wgl_bdt!=wgl.LINES||wgl_dcount>wgl_bds-4)WGLFBuffer();wgl_bdt=wgl.LINES;wgl_bdal.set([x1,y1-wgl_last_width/2,x1,y1+wgl_last_width/2],wgl_dcount*2);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+4);wgl_dcount+=2},CNFGTackRectangle:(x1,y1,x2,y2)=>{if(wgl_bdt!=wgl.TRIANGLES||wgl_dcount>wgl_bds-16)WGLFBuffer();wgl_bdt=wgl.TRIANGLES;wgl_bdap.set([x1,y1,x2,y1,x2,y2,x1,y1,x2,y2,x1,y2],wgl_dcount*2);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+0);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+4);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+8);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+12);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+16);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+20);wgl_dcount+=6},CNFGTackPoly:(vertices,numverts)=>{var i=0|0;numverts|=0;vertices|=0;if(numverts<1)return;wgl.enableVertexAttribArray(0);var outverts=(numverts-2)*3;if(wgl_bdt!=wgl.TRIANGLES||wgl_dcount>wgl_bds-outverts*2)WGLFBuffer();var i=0|0;for(;i<numverts-2;i++){wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+0);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+4);wgl_bdac.set(wgl_rdcolor,wgl_dcount*4+8);wgl_bdap.set(HEAP16.slice(vertices>>1,(vertices>>1)+6),wgl_dcount*2);wgl_dcount+=3}wgl_bdt=wgl.TRIANGLES},CNFGColor:color=>{wgl_rdcolor[0]=color&255;wgl_rdcolor[1]=color>>8&255;wgl_rdcolor[2]=color>>16&255;wgl_rdcolor[3]=color>>24&255},CNFGSetup:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();fullscreen=false},CNFGSetupFullscreen:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();canvas.style="position:absolute; top:0; left:0;";fullscreen=true},CNFGClearFrameInternal:color=>{wgl.clearColor((color&255)/255,(color>>8&255)/255,(color>>16&255)/255,(color>>24&255)/255);wgl.clear(wgl.COLOR_BUFFER_BIT|wgl.COLOR_DEPTH_BIT)},CNFGGetDimensions:(pw,ph)=>{HEAP16[pw>>1]=canvas.width;HEAP16[ph>>1]=canvas.height},CNFGHandleInput:()=>{},CNFGUpdateScreenWithBitmapInternal:(memptr,w,h)=>{if(w<=0||h<=0)return;if(wgl_dcount>0)WGLFBuffer();wgl.useProgram(wgl_blit);if(wgl_tex==null)wgl_tex=wgl.createTexture();wgl.activeTexture(wgl.TEXTURE0);wgl.bindTexture(wgl.TEXTURE_2D,wgl_tex);wgl_bdt=wgl.TRIANGLES;wgl_bdap.set([0,0,w,0,w,h,0,0,w,h,0,h],0);wgl_bdac.set([0,0,0,0,255,0,0,0,255,255,0,0,0,0,0,0,255,255,0,0,0,255,0,0],0);wgl_dcount=6;wgl.uniform2f(swlocBlit,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(salocBlit,.5,-.5);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_S,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_T,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_MIN_FILTER,wgl.NEAREST);var img=new Image;wgl.texImage2D(wgl.TEXTURE_2D,0,wgl.RGBA,w,h,0,wgl.RGBA,wgl.UNSIGNED_BYTE,new Uint8Array(memory.buffer,memptr,w*h*4));WGLFBuffer();wgl.useProgram(wgl_shader)},CNFGFlushRender:WGLFBuffer,CNFGSetLineWidth:px=>{wgl_last_width=px;wgl.lineWidth(px)},CNFGSwapBuffersInternal:()=>{if(!sleeping){WGLFBuffer();HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;requestAnimationFrame(function(){FrameStart();wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()})}else{wasmExports.asyncify_stop_rewind();sleeping=false}},OGGetAbsoluteTime:()=>{return(new Date).getTime()/1e3},Add1:i=>{return i+1},sin:Math.sin,cos:Math.cos,tan:Math.tan,sinf:Math.sin,cosf:Math.cos,tanf:Math.tan,OGUSleep:us=>{if(!sleeping){HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;setTimeout(function(){wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()},us/1e3)}else{wasmExports.asyncify_stop_rewind();sleeping=false}},memory:memory,print:console.log,prints:str=>{console.log(toUTF8(str))}}};{var array=new Uint8Array(new ArrayBuffer(blob.length));var i=0|0;for(i=0;i<blob.length;i++){array[i]=blob.charCodeAt(i)}WebAssembly.instantiate(array,imports).then(function(wa){instance=wa.instance;wasmExports=instance.exports;if(instance.exports.HandleMotion){canvas.addEventListener("mousemove",e=>{instance.exports.HandleMotion(e.offsetX,e.offsetY,e.buttons)});canvas.addEventListener("touchmove",e=>{instance.exports.HandleMotion(e.touches[0].clientX,e.touches[0].clientY,1)})}if(instance.exports.HandleButton){canvas.addEventListener("mouseup",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,0)});canvas.addEventListener("mousedown",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,1)})}instance.exports.main()})}
		</script>
	</body>
</html>
