 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Test</title>
		<style>
			body { background-color: #000080; }
			document : {overflow: hidden; width=100%; height=100%;}
		</style>
	</head>
	<body>
		<div STYLE="position:absolute;width:640;z-index:10;color:white;a:red">
			This is a demonstration of rawdrawwasm, a minimal technique to use C with rawdraw with WASM and without Emscripten.
			This file is a single-file HTML file. Thanks to @zNoctum and @redline2466.  Check out the project <A HREF=https://github.com/cnlohr/rawdrawwasm/ style="color:red">here</a>.
		</div>
		<div STYLE="positon:absolute;z-index:3">
			<canvas width=500 height=500 id=canvas></canvas>
		</div>
		<script>
var memory=new WebAssembly.Memory({initial:200});var HEAP8=new Int8Array(memory.buffer);var HEAPU8=new Uint8Array(memory.buffer);var HEAP16=new Int16Array(memory.buffer);var HEAPU16=new Uint16Array(memory.buffer);var HEAP32=new Uint32Array(memory.buffer);var HEAPU32=new Uint32Array(memory.buffer);var HEAPF32=new Float32Array(memory.buffer);var HEAPF64=new Float64Array(memory.buffer);let blob=atob("AGFzbQEAAAABQAtgAX8AYAJ/fwBgA39/fwBgAABgBH9/f38AYAF8AXxgBH99fX0AYAh9fX19fX19 fQBgAAF/YAN9fX0BfWAAAXwC2AELA2VudhBGYXN0UGlwZUdlb21ldHJ5AAIDZW52FkNORkdDbGVh ckZyYW1lSW50ZXJuYWwAAANlbnYXQ05GR1N3YXBCdWZmZXJzSW50ZXJuYWwAAwNlbnYRT0dHZXRB YnNvbHV0ZVRpbWUACgNlbnYTQ05GR1NldHVwRnVsbHNjcmVlbgABA2VudgZwcmludHMAAANlbnYR Q05GR0dldERpbWVuc2lvbnMAAQNlbnYFcHJpbnQAAANlbnYDY29zAAUDZW52A3NpbgAFA2VudgZt ZW1vcnkCAAMDEA8EAQIICQMGAgEEBwIAAwAGEgN/AUGw6goLfwFBAAt/AUEACweQAQgJSGFuZGxl S2V5AAsMSGFuZGxlQnV0dG9uAAoMSGFuZGxlTW90aW9uAAwEbWFpbgANFWFzeW5jaWZ5X3N0YXJ0 X3Vud2luZAAWFGFzeW5jaWZ5X3N0b3BfdW53aW5kABcVYXN5bmNpZnlfc3RhcnRfcmV3aW5kABgU YXN5bmNpZnlfc3RvcF9yZXdpbmQAFwqYMw8DAAELAwABCxMAQdQXIAE2AgBBkMoGIAA2AgALqyID D38JfQZ8IwFBAkYEQCMCIwIoAgBBgH9qNgIAIwIoAgAiASgCACEAIAEqAgQhDyABKAIIIQIgASgC DCEDIAEoAhAhBSABKAIUIQQgASoCGCEQIAEqAhwhESABKAIgIQYgASgCJCEHIAEqAighEiABKgI0 IRMgASgCOCEJIAEoAjwhCiABKAJAIQsgASoCRCEUIAErAkghGSABKgJQIRUgASgCVCEMIAErAlgh HCABKwJgIRsgASoCaCEWIAEqAmwhFyABKAJwIQ0gASgCdCEOIAErAnghHSABKwIsIRgLAn8jAUEC RgRAIwIjAigCAEF8ajYCACMCKAIAKAIAIQgLIwFFBEAjACIAQfAAayICJAALIAhFQQEjARsEQBAD QQAjAUEBRg0BGiEbCyMBRQRAQeAXQQE6AAALIAhBAUZBASMBGwRAQYAIQQAQBEEBIwFBAUYNARoL IwFFBEADQCAKQShHIgAEQCAKsiETQQAhBgNAIAZBKEcEQCAGsiESQQAhB0MAAAAAIQ9BBCEEA0Ag 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 ACAIQbTKAGogAzgCACAIQbDKAGogAjgCACAIQazKAGogBTgCACAIQajKAGogBDgCACAIQaTKAGog BTgCACAIQaDKAGogBDgCACAIQZzKAGogAzgCACAIQZjKAGogAjgCACAIQZTKAGogATgCACAIQZDK AGogADgCACAKQQJ0IglBpMoEakH0yQAoAgAiCDYCACAJQaDKBGogCDYCACAJQZzKBGogCDYCACAJ QZjKBGogCDYCACAJQZTKBGogCDYCACAJQZDKBGogCDYCAEGEygAgCkEGajYCAAsPCyEIIwIoAgAg CDYCACMCIwIoAgBBBGo2AgAjAigCACIIIAA4AgAgCCABOAIEIAggAjgCCCAIIAM4AgwgCCAEOAIQ IAggBTgCFCAIIAY4AhggCCAHOAIcIAggCzYCICAIIAo2AiQgCCAJNgIoIwIjAigCAEEsajYCAAvo AQEQfSABKgI8IQcgASoCOCEIIAEqAjAhCSABKgI0IQogASoCDCELIAEqAgghDCABKgIAIQ0gASoC BCEOIAEqAhwhDyABKgIYIRAgASoCECERIAEqAhQhEiACIAAqAgAiAyABKgIglCAAKgIEIgQgASoC JJSSIAAqAggiBSABKgIolJIgACoCDCIGIAEqAiyUkjgCCCACIAMgEZQgBCASlJIgBSAQlJIgBiAP lJI4AgQgAiADIA2UIAQgDpSSIAUgDJSSIAYgC5SSOAIAIAIgAyAJlCAEIAqUkiAFIAiUkiAGIAeU kjgCDAsZAEEBJAEgACQCIwIoAgAjAigCBEsEQAALCxUAQQAkASMCKAIAIwIoAgRLBEAACwsZAEEC JAEgACQCIwIoAgAjAigCBEsEQAALCwvcDwMAQYAIC0NUZXN0IEJlbmNoAE1haW4gc3RhcnRlZC4g IFRoaXMgd2lsbCBhcHBlYXIgaW4geW91ciBicm93c2VyIGNvbnNvbGUuAEHQCAv9Dv//AAAIABAA GAAfACkAMgAzAP////85AEIA//9LAFMAXABgAGQAbAByAHsAhACJAJMAmACeAKMAqQCsALIAtgD/ /7oAvQDBAMkA0QDZAOIA5ADoAOwA9AD4APoA/AD9AP8ABQEKARABFgEbASEBJwEsATUBPAE+AUEB RAFIAUsBUQFZAWABagFwAXcBfgGEAYwBkgGYAZ0BpgGpAa4BswG6AcEBygHSAdgB3AHgAeUB7AH0 AfsBAAIEAgYCCgINAg8CEQIYAh0CIgInAi0CNAI8AkICRQJKAlECUwJcAmICZwJtAnMCeAJ+AoIC iAKNApQCmAKeAqICqAKsArICtgL///////////////////////////////////////////////// ////////////////////////////////////vAK/AscCzgLbAuQC6ALyAvQC+AL+AgQDBwMJAxED EwMYAx4DIwMrAy0DNAM7AzwDPwNBA0YDTANVA14DagNwA3kDggOMA5cDoAOrA7cDwAPJA9ID3APl A+0D9QP+AwYEDwQXBB4EJQQuBDcEPgRCBEsEUQRXBF4EZARtBHQEfgSHBJAEmgSlBK4EuQTGBM8E 1wTfBOgE8AT0BPgE/QQBBQoFFAUbBSIFKgUzBToFPgVFBU0FVQVeBWYFbgV1Bf//AAkgKQMjFIsA CSApBCQTjAEhIxQDCRGaESIjFAMCmQEhIwkDKQMJEpwDKxMcIyIRAouaGgEhIwOJAyEqIRkDFCOa ARAhEgkSHAOrAgMbAhoTEKkBKwMpAhEiE4oAIgSIIAIkqAEQKRAUCxSrAAsMICusACgAAioQHCCs ASEjAwkgEBSMAyMkBIsBECkQFAsUKwSsARghEJwDHCMcEJwCIhkimwIqAhkCmwECqgIiEQITqhEi ApkCEyKKEBucEAkgmRAcICwBKQOrIRABIxQLEJwACSMsBAMhqCEQARIDFCsCrBCZEAEDnBAhI5wB KxEbIQsCqgIqEZsEmwKqnAOpACAkBAiaARAcBKwBECEiBKwAICQMEqoAAiogrCAAAiIkjCACIiQE igAgIRKcAAwAICwELAKqAAIiIAgijBmbGROMIAKsASkDqwAijAEQIRIbnCEBBCQiEhOrBAEQISwC qgAEFCMSChIhEIgjFAMBEKkAECEjFASIAAQsACgCmgAMACgCmiEQAQMUIyKaAAwgLAKqACgQHASs ACAjFIsADAISISgSI6wABKwEABEgrAQAKiCsARAhIxQDiQAMABAhEooBECEjFAMJBJsADAAQIRIC rCEQASMUiwAoEJwABCSoAAMUI6gABCwUGySoAAEjLAQDIagAARIcEiGoACACBKwQAAScAasQICSc ARCpBKwAmQIEJCojEooABCQiiiQEAxKqICQEAqokBAIiI5sECQIaARCpIxIDFCMkFYwADAMSI6wZ EpwqIyQVjAAMAxMqE6wQnAIMAhsSHBIjrAIMAxIjrAIiJASKAg0EJCKKAgQsJSKKAgwDEqoiAgMj JIwRHAKqAgQUKySqAgMUI6oCAxQaEySqAiwEqgIDHCIjjQIiBKwgEBQsEooQGROcABAUDBKqARAR qAMEJCMSixgRnCEQAQITKhCbEQAEJCsCmgEKESkiKwMbAhEiE4oAESgRHAIqA6sQGhOdIAACESoC EyIkjAioIBARqRApICERmBECGyESqwEhqhKqECAhGRIYEaoAqAEQIRKJAioRGwOrARAhA6sBECES ChIjixGoAg0EFCsirBQQARoQIKyaFBWNIKkQICERmAESCxEimwAJAigSEysirAAJAigSIhMUrAAQ EQkRAigSEysirBgREgMUqwQCESIsAysQqQQCESIsAysBmAQCESIsAysBEKkEAhEiLAMrARARqAQC ESIsAysIqAQCESIsAysAIBGIAAwCKgAZEBwQKBSsIxQDARApFBWNAioCBCwDGwCZAioCBCwDGxGo AioCBCwDGwEQqQIqAgQsAxsIqAIqEhwELACZAioSHAQsEagCKhIcBCwBEKkCKhIcBCwoiAAQISMU BAgCmgQCJCoBEBGoAiIkBAoAmQIiJAQKEagCIiQEChEoAJkCIiQECgEQEagBISQECQioASsDqQEQ ISMUAwkDqQEEJCkRqAEEJCkAmQIEJCoBEKkBBCQpCKgBAhMcEyIpEagADAERIhOLAA0AECEaAiIk jAIEJCojEgoAmQIEJCojEgoRqAIEJCojEgoBEKkCBCQqIxIKARARqAIEJCojEgoJqQIEJCojEgoB ECGJAhsCBCwSHBIqEysiqwMELAMSKhQVjSQEAiIjGwCZJAQCIiMbEagkBAIiIxsBEKkkBAIiIxsJ qRIcAJkSHBGoEhwBEKkSHAmpACoRKAIiJASKAgwDEiMsARARqAIEJCIKAJkCBCQiChGoAgQkIgoB EKkCBCQiCgEQEagCBCQiCgmpGQIqmwIEJCIKBKoCBBQrJCoAmQIEFCskKhGoAgQUKyQqARCpAgQU KyQqCakCAxwiIw0RqAAMAhEiE4oCAxwiIw0JqQBB0xcLCD9kAAAAMKUBAC8JcHJvZHVjZXJzAQxw cm9jZXNzZWQtYnkBBWNsYW5nDzEwLjAuMC00dWJ1bnR1MQ==");let toUtf8Decoder=new TextDecoder("utf-8");function toUTF8(ptr){var len=0|0;ptr|=0;for(var i=ptr;HEAPU8[i]!=0;i++)len++;return toUtf8Decoder.decode(HEAPU8.subarray(ptr,ptr+len))}let wasmExports;const DATA_ADDR=16;let sleeping=false;let fullscreen=false;var canvas=document.getElementById("canvas");var wgl=canvas.getContext("webgl");var wgl_rdcolor=new Uint8Array(4);var wgl_shader=null;var wgl_blit=null;var wgl_tex=null;function wgl_makeShader(vertText,fragText){var vert=wgl.createShader(wgl.VERTEX_SHADER);wgl.shaderSource(vert,vertText);wgl.compileShader(vert);if(!wgl.getShaderParameter(vert,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(vert))}var frag=wgl.createShader(wgl.FRAGMENT_SHADER);wgl.shaderSource(frag,fragText);wgl.compileShader(frag);if(!wgl.getShaderParameter(frag,wgl.COMPILE_STATUS)){alert(wgl.getShaderInfoLog(frag))}var ret=wgl.createProgram();wgl.attachShader(ret,frag);wgl.attachShader(ret,vert);wgl.linkProgram(ret);wgl.bindAttribLocation(ret,0,"a0");wgl.bindAttribLocation(ret,1,"a1");return ret}{wgl_shader=wgl_makeShader("uniform vec2 sw, sa; attribute vec2 a0; attribute vec4 a1; varying vec4 vc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); vc = a1; }","precision mediump float; varying vec4 vc; void main() { gl_FragColor = vec4(vc.xyz,1.0); }");swloc=wgl.getUniformLocation(wgl_shader,"sw");saloc=wgl.getUniformLocation(wgl_shader,"sa");wgl_blit=wgl_makeShader("uniform vec2 sw, sa;attribute vec2 a0; attribute vec4 a1; varying vec2 tc; void main() { gl_Position = vec4( a0*sw-sa, 0.0, 0.5 ); tc = a1.xy; }","precision mediump float; varying vec2 tc; uniform sampler2D tex; void main() { gl_FragColor = texture2D(tex,tc);}");swlocBlit=wgl.getUniformLocation(wgl_blit,"sw");salocBlit=wgl.getUniformLocation(wgl_blit,"sa");wgl.useProgram(wgl_shader);var arraybufferV=wgl.createBuffer();var arraybufferC=wgl.createBuffer();wgl.enableVertexAttribArray(0);wgl.enableVertexAttribArray(1)}function FrameStart(){if(fullscreen){wgl.viewportWidth=canvas.width=window.innerWidth;wgl.viewportHeight=canvas.height=window.innerHeight}wgl.viewport(0,0,wgl.viewportWidth,wgl.viewportHeight);wgl.uniform2f(swloc,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(saloc,.5+.5/wgl.viewportWidth,-.5-.5/wgl.viewportHeight)}function FastPipeGeometryJS(vertsF,colorsI,vertcount){wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferV);wgl.bufferData(wgl.ARRAY_BUFFER,vertsF,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(0,2,wgl.FLOAT,false,0,0);wgl.bindBuffer(wgl.ARRAY_BUFFER,arraybufferC);wgl.bufferData(wgl.ARRAY_BUFFER,colorsI,wgl.DYNAMIC_DRAW);wgl.vertexAttribPointer(1,4,wgl.UNSIGNED_BYTE,true,0,0);wgl.drawArrays(wgl.TRIANGLES,0,vertcount)}const imports={env:{FastPipeGeometry:(vertsF,colorsI,vertcount)=>{FastPipeGeometryJS(HEAPF32.slice(vertsF>>2,(vertsF>>2)+vertcount*2),HEAPU8.slice(colorsI,colorsI+vertcount*4),vertcount)},CNFGSetup:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();fullscreen=false},CNFGSetupFullscreen:(title,w,h)=>{document.title=toUTF8(title);wgl.viewportWidth=canvas.width=w;wgl.viewportHeight=canvas.height=h;FrameStart();canvas.style="position:absolute; top:0; left:0;";fullscreen=true},CNFGClearFrameInternal:color=>{wgl.clearColor((color&255)/255,(color>>8&255)/255,(color>>16&255)/255,(color>>24&255)/255);wgl.clear(wgl.COLOR_BUFFER_BIT|wgl.COLOR_DEPTH_BIT)},CNFGGetDimensions:(pw,ph)=>{HEAP16[pw>>1]=canvas.width;HEAP16[ph>>1]=canvas.height},CNFGHandleInput:()=>{},CNFGUpdateScreenWithBitmapInternal:(memptr,w,h)=>{if(w<=0||h<=0)return;wgl.useProgram(wgl_blit);if(wgl_tex==null)wgl_tex=wgl.createTexture();wgl.activeTexture(wgl.TEXTURE0);wgl.bindTexture(wgl.TEXTURE_2D,wgl_tex);wgl.uniform2f(swlocBlit,1/wgl.viewportWidth,-1/wgl.viewportHeight);wgl.uniform2f(salocBlit,.5,-.5);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_S,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_WRAP_T,wgl.CLAMP_TO_EDGE);wgl.texParameteri(wgl.TEXTURE_2D,wgl.TEXTURE_MIN_FILTER,wgl.NEAREST);var img=new Image;wgl.texImage2D(wgl.TEXTURE_2D,0,wgl.RGBA,w,h,0,wgl.RGBA,wgl.UNSIGNED_BYTE,new Uint8Array(memory.buffer,memptr,w*h*4));FastPipeGeometryJS(new Float32Array([0,0,w,0,w,h,0,0,w,h,0,h]),new Uint8Array([0,0,0,0,255,0,0,0,255,255,0,0,0,0,0,0,255,255,0,0,0,255,0,0]),6);wgl.useProgram(wgl_shader)},CNFGSwapBuffersInternal:()=>{if(!sleeping){HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;requestAnimationFrame(function(){FrameStart();wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()})}else{wasmExports.asyncify_stop_rewind();sleeping=false}},OGGetAbsoluteTime:()=>{return(new Date).getTime()/1e3},Add1:i=>{return i+1},sin:Math.sin,cos:Math.cos,tan:Math.tan,sinf:Math.sin,cosf:Math.cos,tanf:Math.tan,OGUSleep:us=>{if(!sleeping){HEAP32[DATA_ADDR>>2]=DATA_ADDR+8;HEAP32[DATA_ADDR+4>>2]=1024;wasmExports.asyncify_start_unwind(DATA_ADDR);sleeping=true;setTimeout(function(){wasmExports.asyncify_start_rewind(DATA_ADDR);wasmExports.main()},us/1e3)}else{wasmExports.asyncify_stop_rewind();sleeping=false}},memory:memory,print:console.log,prints:str=>{console.log(toUTF8(str))}}};{var array=new Uint8Array(new ArrayBuffer(blob.length));var i=0|0;for(i=0;i<blob.length;i++){array[i]=blob.charCodeAt(i)}WebAssembly.instantiate(array,imports).then(function(wa){instance=wa.instance;wasmExports=instance.exports;if(instance.exports.HandleMotion){canvas.addEventListener("mousemove",e=>{instance.exports.HandleMotion(e.offsetX,e.offsetY,e.buttons)});canvas.addEventListener("touchmove",e=>{instance.exports.HandleMotion(e.touches[0].clientX,e.touches[0].clientY,1)})}if(instance.exports.HandleButton){canvas.addEventListener("mouseup",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,0)});canvas.addEventListener("mousedown",e=>{instance.exports.HandleButton(e.offsetX,e.offsetY,e.button,1)})}instance.exports.main()});wgl.clearColor(1,0,0,1);wgl.clear(wgl.COLOR_BUFFER_BIT|wgl.COLOR_DEPTH_BIT)}
		</script>
	</body>
</html>
